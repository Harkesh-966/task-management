<div class="page__header flex items-center justify-between">
    <h2 class="page__title">{{ id ? 'Edit task' : 'New task' }}</h2>
    <div class="page__actions">
        <button type="button" class="btn btn--ghost" (click)="cancel()">Cancel</button>
    </div>
</div>

<div class="card">
    <form class="form" (ngSubmit)="submit()" [formGroup]="form" novalidate>
        <div class="form__row">
            <label>Title</label>
            <input class="input" type="text" formControlName="title" placeholder="e.g. Ship login flow" />
            <div class="error" *ngIf="form.controls.title.touched && form.controls.title.invalid">Title is required
            </div>
        </div>
        <div class="form__row">
            <label>Description</label>
            <textarea class="textarea" rows="4" formControlName="description"
                placeholder="Optional details..."></textarea>
        </div>
        <div class="form__row">
            <label>Status</label>
            <select class="select" formControlName="status">
                <option value="pending">Pending</option>
                <option value="completed">Completed</option>
            </select>
        </div>

        <div class="error" *ngIf="error">{{ error }}</div>

        <div class="actions mt-2">
            <button class="btn btn--primary" type="submit" [disabled]="loading">{{ loading ? 'Saving...' : 'Save'
                }}</button>
            <button type="button" class="btn btn--ghost" (click)="cancel()">Cancel</button>
        </div>
    </form>
</div>